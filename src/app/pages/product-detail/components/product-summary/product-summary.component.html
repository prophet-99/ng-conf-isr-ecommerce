@let product = productDetail();

<div class="product-layout">
  <app-product-summary-gallery />

  <!-- PRODUCT INFO -->
  <div class="product-info">
    <div class="product-header">
      <span class="product-category">{{ product.category }}</span>
      <h1 class="product-title">{{ product.name }}</h1>
      <div class="product-rating">
        <div class="stars">
          <span class="star star--filled">★</span>
          <span class="star star--filled">★</span>
          <span class="star star--filled">★</span>
          <span class="star star--filled">★</span>
          <span class="star star--filled">★</span>
        </div>
        <span class="rating-score">{{ product.rating }}</span>
        <span class="rating-count">
          ({{ product.detail.reviews.totalReviews }} reseñas)
        </span>
      </div>
    </div>

    <div class="product-pricing">
      <span class="price-current">{{ product.price | currency }}</span>
      @if (product.oldPrice) {
      <span class="price-old">{{ product.oldPrice | currency }}</span>
      }
    </div>

    <p class="product-description">
      {{ product.description }}
    </p>

    <!-- SIZE SELECTION -->
    @if(product.sizes) {
    <div class="product-options">
      <div class="option-group">
        <label class="option-label">Size/Volume</label>
        <div class="size-pills" id="size-options">
          @for(size of product.sizes; track size){
          <button class="size-pill" [attr.data-size]="size">
            {{ size }}
          </button>
          }
        </div>
      </div>
    </div>
    }

    <!-- PURCHASE CONTROLS -->
    <app-product-summary-controls />

    <!-- PRODUCT META -->
    <div class="product-meta">
      <div class="meta-item">
        <span class="meta-label">SKU:</span>
        <span class="meta-value">{{ product.sku }}</span>
      </div>
      <div class="meta-item">
        <span class="meta-label">Tags:</span>
        <div class="tag-list">
          @for(tag of product.tags; track tag) {
          <span class="tag">{{ tag }}</span>
          }
        </div>
      </div>
      <div class="meta-item">
        <app-product-summary-share />
      </div>
    </div>
  </div>
</div>
